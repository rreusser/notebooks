function s(t,i={}){const n=i.pixelRatio??window.devicePixelRatio,a=document.createElement("canvas"),l=t({...i,canvas:a});return l.attachResize=(o,e)=>(l.poll(),a.width=Math.round(o*n),a.height=Math.round(e*n),a.style.width=`${o}px`,a.style.height=`${e}px`,l),a.value=l,a}function R(t){return(i,n)=>({x:Math.min(t.xRange[0],t.xRange[1])*i.pixelRatio,y:i.framebufferHeight-Math.max(t.yRange[0],t.yRange[1])*i.pixelRatio,width:Math.abs(t.xRange[1]-t.xRange[0])*i.pixelRatio,height:Math.abs(t.yRange[0]-t.yRange[1])*i.pixelRatio})}function p(t,{pixelRatio:i=devicePixelRatio,extensions:n=[],attributes:a={},optionalExtensions:l=[],profile:o=!1}={}){return function({current:e,width:g,height:h}){return e||(console.log("instantiate regl"),e=s(t,{extensions:n,optionalExtensions:l,profile:o,attributes:a,pixelRatio:i})),e.width=g*i,e.height=h*i,e.style.width=`${g}px`,e.style.height=`${h}px`,e.style.position="absolute",e.style.top="0",e.style.left="0",e}}export{R as reglAxesViewport,s as reglCanvas,p as reglElement};
