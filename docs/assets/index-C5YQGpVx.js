import{_ as z,d as E}from"./index-Bvdv0JJ6.js";(window.location.hostname==="localhost"||window.location.hostname.match(/127\.0\.0\.1/))&&z(async()=>{const{main:r}=await import("./index-Bvdv0JJ6.js").then(f=>f.i);return{main:r}},[]).then(({main:r})=>{window.__observableRuntime=r,console.log("[DebugClient] Runtime module exposed as window.__observableRuntime"),z(()=>import("./debug-client-BJyqFSh-.js"),[])});E({root:document.getElementById("cell-6"),expanded:[],variables:[]},{id:6,body:r=>r(`
struct PointLight {
  position: vec3f,
  color: vec4f,
}

struct Uniforms {
  xyz: vec3u,
  tileSize: u32,
  toXY: vec3f,
  terrainBuffer: u32,
  terrainSize: vec2u,
  globalDimension: u32,
  pixelSize: f32,
  lights: array<PointLight, 2>,
}`),inputs:["visualizeStruct"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});E({root:document.getElementById("cell-11"),expanded:[],variables:[]},{id:11,body:async()=>{const{WgslReflect:r}=await z(()=>import("https://cdn.jsdelivr.net/npm/wgsl_reflect/+esm"),[]).then(f=>{if(!("WgslReflect"in f))throw new SyntaxError("export 'WgslReflect' not found");return f});return{WgslReflect:r}},inputs:[],outputs:["WgslReflect"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});E({root:document.getElementById("cell-4"),expanded:[],variables:[]},{id:4,body:(r,f,R)=>{function M(k,{width:S=Math.min(640,r),indent:l=35,spacing:P=40}={}){const W=new f(k).structs,o=32,I=R.schemeTableau10,y=R.create("svg");let g=0,O=0;const h={};function T(a){return h[a]||(h[a]=I[O++%I.length]),h[a]}function x(a,b=0,p=[],w=null){const s=[];for(const e of a){const i=b+(e.offset||0),m=[...p,e.name].join("."),d=e.name;if(e.type?.name==="array"&&e.type.format?.members){const t=e.type.count||1,n=e.type.stride||e.type.format.size||0;for(let u=0;u<t;u++){`${e.name}${u}`;const c=i+u*n;s.push(...x(e.type.format.members,c,[...p,`${e.name}[${u}]`],e.name))}}else e.type?.members?s.push(...x(e.type.members,i,[...p,e.name],e.name)):s.push({name:m,type:e.type?.name||"?",offset:i,size:e.size,topLevel:d})}return s}function $(a,b){const w=a.size??16,s=(S-l-1)/16,e=x(a.members||[]),i=y.append("g").attr("transform",`translate(0,${b})`),m=[];e.forEach(t=>{const n=T(t.topLevel),u=t.offset+t.size;let c=t.offset;for(;c<u;){const D=Math.floor(c/16),v=c%16,_=Math.min(16-v,u-c);i.append("rect").attr("x",v*s+l).attr("y",D*o+20).attr("width",_*s).attr("height",o).attr("fill",n).attr("stroke","black").attr("stroke-width",1).attr("opacity",.8),m.push({name:t.name,type:t.type,x:(v+_/2)*s+l,y:D*o+20+o/2}),c+=_}});const d=Math.ceil(w/16);for(let t=0;t<=d;t++)i.append("line").attr("x1",l).attr("y1",t*o+20).attr("x2",16*s+l).attr("y2",t*o+20).style("stroke",t===0||t===d?"black":"rgb(0 0 0 / 30%)");for(let t=0;t<d;t++)for(let n=0;n<=16;n++)i.append("line").attr("x1",n*s+l).attr("y1",t*o+20).attr("x2",n*s+l).attr("y2",(t+1)*o+20).style("stroke",n===0||n===16?"black":"rgb(0 0 0 / 8%)");m.forEach(t=>{i.append("text").attr("x",t.x).attr("y",t.y-6).text(t.name).style("fill","black").style("font-size",12).style("font-weight","bold").style("text-anchor","middle").style("font-family","monospace").style("dominant-baseline","middle").style("pointer-events","none"),i.append("text").attr("x",t.x).attr("y",t.y+10).text(t.type).style("fill","#222").style("font-size",10).style("font-style","italic").style("text-anchor","middle").style("font-family","monospace").style("dominant-baseline","middle").style("pointer-events","none")});for(let t=0;t<w;t+=16){const n=t/16;i.append("text").attr("x",10).attr("y",n*o+20+o/2).attr("dominant-baseline","middle").style("font-family","monospace").style("font-size",12).text(t)}return i.append("text").attr("x",l).attr("y",14).text(a.name).style("font-family","monospace").style("font-size",14).style("font-weight","bold"),d*o+P}for(const a of W)g+=$(a,g);y.attr("height",g),y.attr("width",S);const L=y.node();return L.value=k,L}return{visualizeStruct:M}},inputs:["width","WgslReflect","d3"],outputs:["visualizeStruct"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});
