function d(s,o){o=o||{};const f=o.width||width,l=o.height||Math.floor(f*.5);function g(e){const t=Object.assign({},{pixelRatio:devicePixelRatio,attributes:{},extensions:[],optionalExtensions:[],profile:!1},e||{});return delete t.width,delete t.height,t}const i=g(o);function h(e,t){const r=e.config;return JSON.stringify(r)!==JSON.stringify(t)?!1:e}function a(e,t,r){t&&(e.width=Math.floor(t*i.pixelRatio),e.style.width=`${Math.floor(t)}px`),r&&(e.height=Math.floor(r*i.pixelRatio),e.style.height=`${Math.floor(r)}px`)}if(s){if(!(s instanceof HTMLCanvasElement))throw new Error("Unexpected first argument type. Did you forget to pass `this` as the first argument?");a(s,f,l);const e=h(s,i);if(e)return e}const n=document.createElement("canvas"),c=i.style;delete i.style;const u=o.createREGL({canvas:n,...JSON.parse(JSON.stringify(i))});if(a(n,f,l),n.value=u,n.config=i,c)for(const[e,t]of Object.entries(c))n.style[e]!==t&&(n.style[e]=t);return n}export{d as default};
