function R(e,i={}){const l=i.pixelRatio??window.devicePixelRatio,a=document.createElement("canvas"),n=e({...i,canvas:a});return n.attachResize=(g,t)=>(n.poll(),a.width=Math.round(g*l),a.height=Math.round(t*l),a.style.width=`${g}px`,a.style.height=`${t}px`,n),a.value=n,a}function p(e){return(i,l)=>({x:Math.min(e.xRange[0],e.xRange[1])*i.pixelRatio,y:i.framebufferHeight-Math.max(e.yRange[0],e.yRange[1])*i.pixelRatio,width:Math.abs(e.xRange[1]-e.xRange[0])*i.pixelRatio,height:Math.abs(e.yRange[0]-e.yRange[1])*i.pixelRatio})}function d(e,{pixelRatio:i=devicePixelRatio,extensions:l=[],attributes:a={},optionalExtensions:n=[],profile:g=!1}={}){return function({current:t,width:o,height:h}){return t||(console.log("instantiate regl"),t=R(e,{extensions:l,optionalExtensions:n,profile:g,attributes:a,pixelRatio:i})),t.width=o*i,t.height=h*i,t.style.width=`${o}px`,t.style.height=`${h}px`,t}}export{p as reglAxesViewport,R as reglCanvas,d as reglElement};
