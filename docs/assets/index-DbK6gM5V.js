const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/terrain-viewer-A3jCmoxp.js","assets/tile-math-BziQlsn7.js","assets/elevation-profile-BF3MYNlB.js"])))=>i.map(i=>d[i]);
import{d as se,_ as N}from"./index-ByB2dbry.js";se({root:document.getElementById("cell-1"),expanded:[],variables:[]},{id:1,body:async(s,t,X)=>{const[{TerrainMap:f},{TILE_URL_TERRAIN:Z,TILE_URL_SENTINEL:G},{createGPULines:S},{default:C},{expandable:z},{ElevationProfile:$}]=await Promise.all([N(()=>import("./terrain-viewer-A3jCmoxp.js"),__vite__mapDeps([0,1])).then(i=>{if(!("TerrainMap"in i))throw new SyntaxError("export 'TerrainMap' not found");return i}),N(()=>import("./tile-urls-B-E4qz8f.js"),[]).then(i=>{if(!("TILE_URL_TERRAIN"in i))throw new SyntaxError("export 'TILE_URL_TERRAIN' not found");if(!("TILE_URL_SENTINEL"in i))throw new SyntaxError("export 'TILE_URL_SENTINEL' not found");return i}),N(()=>import("https://cdn.jsdelivr.net/npm/webgpu-instanced-lines/+esm"),[]).then(i=>{if(!("createGPULines"in i))throw new SyntaxError("export 'createGPULines' not found");return i}),N(()=>import("https://cdn.jsdelivr.net/npm/simplify-js/+esm"),[]).then(i=>{if(!("default"in i))throw new SyntaxError("export 'default' not found");return i}),N(()=>import("./expandable-BCrxs32f.js"),[]).then(i=>{if(!("expandable"in i))throw new SyntaxError("export 'expandable' not found");return i}),N(()=>import("./elevation-profile-BF3MYNlB.js"),__vite__mapDeps([2,1])).then(i=>{if(!("ElevationProfile"in i))throw new SyntaxError("export 'ElevationProfile' not found");return i})]),c=document.createElement("canvas");c.className="terrain";const h=await f.create(c,{sources:{"arctic-dem":{type:"terrain",tiles:[Z],minzoom:4,maxzoom:13,bounds:[-152.9,62.2,-148.8,64],attribution:'<a href="https://www.pgc.umn.edu/data/arcticdem/" target="_blank" rel="noopener">ArcticDEM</a> | <a href="https://catalog.data.gov/dataset/srtm30-global-1-km-digital-elevation-model-dem-version-11-land-surface" target="_blank" rel="noopener">SRTM30</a>'},sentinel:{type:"raster",tiles:[G],minzoom:4,maxzoom:11,bounds:[-152.9,62.2,-148.8,64],attribution:'<a href="https://dataspace.copernicus.eu/" target="_blank" rel="noopener">Copernicus Sentinel-2</a>'},peaks:{type:"geojson",data:"osm/peaks.geojson",attribution:'<a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMap</a>'},fkt:{type:"geojson",data:"strava/fkt.geojson",simplify:1e-4,attribution:'<a href="https://www.strava.com/activities/9223277277" target="_blank" rel="noopener">Strava</a>'}},camera:{center:[.08005793958567985,.00021365516506647512,.27291423467021114],distance:.0004971889617079275,phi:2.4972122538258654,theta:.13580281526641474},font:{atlas:"./mapviewer/fonts/roboto-regular.png",metadata:"./mapviewer/fonts/roboto-regular.json"},base:[{id:"satellite",source:"sentinel",blend:"source-over"}],features:[{id:"ski-tracks",type:"line",source:"fkt",paint:{"line-color":"#ff8800","line-width":5,"line-border-color":"#331100","line-border-width":2,"atmosphere-opacity":.5}},{id:"peak-circles",type:"circle",source:"peaks",paint:{"circle-radius":3,"circle-color":"#000000","circle-stroke-color":"#ffffff","circle-stroke-width":1.5,"atmosphere-opacity":.5}},{id:"peak-labels",type:"text",source:"peaks",paint:{"text-field":"name","text-size":16,"text-color":"#000000","text-halo-color":"#ffffff","text-halo-width":1.25,"atmosphere-opacity":.5}}],createGPULines:S,simplifyFn:C}),F=s`<div class="slope-legend" style="display: none">
  <div class="slope-legend-title">Slope angle</div>
  <div class="slope-legend-blocks">
    <div style="background: rgb(255, 199, 0)"></div>
    <div style="background: rgb(255, 140, 0)"></div>
    <div style="background: rgb(255, 77, 0)"></div>
    <div style="background: rgb(191, 0, 0)"></div>
    <div style="background: rgb(102, 0, 153)"></div>
    <div style="background: rgb(0, 51, 204)"></div>
    <div style="background: rgb(0, 0, 0)"></div>
  </div>
  <div class="slope-legend-labels">
    <span>26-29°</span>
    <span>30-31°</span>
    <span>32-34°</span>
    <span>35-45°</span>
    <span>46-50°</span>
    <span>51-59°</span>
    <span>60°+</span>
  </div>
</div>`;h._slopeLegend=F;const _=s`<div class="elevation-label"></div>`;c.addEventListener("mousemove",i=>{const n=h.raycast(i.clientX,i.clientY);if(n){const m=h.queryElevationMercator(n.worldPos[0],n.worldPos[2]);if(m!=null){const T=Math.round(m*3.28084);_.textContent=`${T.toLocaleString()} ft`,_.style.opacity="1"}else _.style.opacity="0"}else _.style.opacity="0"}),c.addEventListener("mouseleave",()=>{_.style.opacity="0"});const E=new $,D=E.createDOM();h.onElevationRefine=()=>{const i=E.activeLayerId;if(!i)return;if(!h._lineLayers.find(m=>m.id===i)){E.hide();return}const n=h.getLayerElevationProfile(i);n&&E.update(n)};const w=s`<div style="position: relative">`;w.appendChild(c),w.appendChild(_),w.appendChild(F),w.appendChild(h.attribution),w.appendChild(D);const O=s`<button class="compass-rose" title="Orient north">
  <svg viewBox="0 0 28 28" width="24" height="24" style="display:block">
    <path d="M14 4L17.5 14L14 12L10.5 14Z" fill="#D32F2F"/>
    <path d="M14 24L10.5 14L14 16L17.5 14Z" fill="#9E9E9E"/>
  </svg>
</button>`;w.appendChild(O);const M=O.querySelector("svg");function P(){if(!O.isConnected)return;const i=90-h.camera.state.phi*180/Math.PI;M.style.transform=`rotate(${i}deg)`,requestAnimationFrame(P)}return requestAnimationFrame(P),O.addEventListener("click",()=>{const i=Math.PI/2,n=h.camera.state.phi;let m=i-n;m-=Math.round(m/(2*Math.PI))*2*Math.PI;const T=performance.now();function U(W){const A=Math.min(1,(W-T)/300),j=A*A*(3-2*A);h.camera.state.phi=n+m*j,h.camera.taint(),A<1&&requestAnimationFrame(U)}requestAnimationFrame(U)}),t(z(w,{wide:!0,width:640,height:600,toggleOffset:[-12,-12],controls:".terrain-controls",onResize(i,n,m,T){T?(c.style.width=`${n}px`,c.style.height=`${m}px`):(c.style.width="",c.style.height=""),h.camera.taint()}})),X.then(()=>{E.destroy(),h.destroy()}),{TerrainMap:f,TILE_URL_TERRAIN:Z,TILE_URL_SENTINEL:G,createGPULines:S,simplify:C,expandable:z,ElevationProfile:$,canvas:c,viewer:h,slopeLegend:F,elevationLabel:_,elevationProfile:E,profilePanel:D,container:w,compassBtn:O,compassSvg:M,updateCompass:P}},inputs:["html","display","invalidation"],outputs:["TerrainMap","TILE_URL_TERRAIN","TILE_URL_SENTINEL","createGPULines","simplify","expandable","ElevationProfile","canvas","viewer","slopeLegend","elevationLabel","elevationProfile","profilePanel","container","compassBtn","compassSvg","updateCompass"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});se({root:document.getElementById("cell-2"),expanded:[],variables:[]},{id:2,body:async(s,t,X,f,Z)=>{const{default:G}=await N(()=>import("https://cdn.jsdelivr.net/npm/suncalc/+esm"),[]).then(e=>{if(!("default"in e))throw new SyntaxError("export 'default' not found");return e}),S=s`<div class="terrain-controls"></div>`,C={date:new Date,timeOfDay:14},z=t._location;function $(){const e=C.timeOfDay,r=C.date,p=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),Math.floor(e)+8,e%1*60,0)),a=G.getPosition(p,z.lat,z.lon),d=a.altitude,y=a.azimuth;t.settings.sunDirection=[-Math.cos(d)*Math.sin(y),Math.sin(d),Math.cos(d)*Math.cos(y)]}$();function c(e,r,p){e.appendChild(r),r.addEventListener("input",()=>p(r.value))}function h(e,{open:r=!1,trailing:p=null}={}){const a=s`<div class="ctrl-section"></div>`,d=s`<div class="ctrl-section-header"></div>`,y=s`<span class="ctrl-chevron">&#9654;</span>`;d.appendChild(y),d.appendChild(s`<span class="ctrl-section-title">${e}</span>`),p&&d.appendChild(p),a.appendChild(d);const x=s`<div class="ctrl-section-body"></div>`;return r?a.classList.add("open"):x.style.display="none",a.appendChild(x),d.addEventListener("click",v=>{if(v.target.closest("button"))return;const g=a.classList.toggle("open");x.style.display=g?"":"none"}),{section:a,body:x}}const F=s`<button class="draw-path-btn" title="Draw a path on the terrain">Draw path</button>`,{section:_,body:E}=h("Layers",{open:!0,trailing:F});S.appendChild(_);const D='<svg viewBox="0 0 20 20" width="16" height="16" style="display:block"><path d="M10 4C4.5 4 1 10 1 10s3.5 6 9 6 9-6 9-6-3.5-6-9-6z" fill="none" stroke="currentColor" stroke-width="1.5"/><circle cx="10" cy="10" r="3" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>',w='<svg viewBox="0 0 20 20" width="16" height="16" style="display:block"><path d="M10 4C4.5 4 1 10 1 10s3.5 6 9 6 9-6 9-6-3.5-6-9-6z" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.35"/><circle cx="10" cy="10" r="3" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.35"/><line x1="4" y1="16" x2="16" y2="4" stroke="currentColor" stroke-width="1.5"/></svg>';function O(e){return e?"#"+[e[0],e[1],e[2]].map(r=>Math.round(r*255).toString(16).padStart(2,"0")).join(""):"#ff8800"}function M(e,r,p,a){const d=s`<div class="layer-prop"><label>${r}</label><input type="color" class="layer-color" value="${O(p)}"></div>`;d.querySelector("input").addEventListener("input",y=>a(y.target.value)),e.appendChild(d)}function P(e,r,p,a,d,y,x){const v=s`<div class="layer-prop"><label>${r}</label><input type="range" min="${a}" max="${d}" step="${y}" value="${p}"><span class="layer-prop-value">${p}</span></div>`,g=v.querySelector("input"),u=v.querySelector(".layer-prop-value");g.addEventListener("input",()=>{u.textContent=g.value,x(Number(g.value))}),e.appendChild(v)}function i(){E.innerHTML="";const e=s`<div class="layer-row">
    <button class="layer-eye" title="Toggle visibility"></button>
    <span class="layer-name">Imagery</span>
  </div>`,r=e.querySelector(".layer-eye");r.innerHTML=t.settings.showImagery?D:w,r.addEventListener("click",function(){t.settings.showImagery=!t.settings.showImagery,this.innerHTML=t.settings.showImagery?D:w}),E.appendChild(e);const p=[...t._lineLayers.map(a=>({...a,kind:"line"})),...t._circleLayers.map(a=>({...a,kind:"circle"})),...t._textLayers.map(a=>({...a,kind:"text"}))];for(const a of p){const d=s`<div class="layer-item"></div>`,y=s`<div class="layer-row"></div>`,x=s`<span class="layer-chevron">&#9654;</span>`;y.appendChild(x);const v=s`<button class="layer-eye" title="Toggle visibility"></button>`;v.innerHTML=a.visible?D:w,v.addEventListener("click",()=>{a.visible=!a.visible,t.setLayerVisibility(a.id,a.visible),v.innerHTML=a.visible?D:w}),y.appendChild(v),y.appendChild(s`<span class="layer-name">${a.id}</span>`);const g=s`<button class="layer-delete" title="Remove layer">&times;</button>`;g.addEventListener("click",()=>{t.removeLayer(a.id),i()}),y.appendChild(g),d.appendChild(y);const u=s`<div class="layer-props" style="display:none"></div>`,b=a.id;if(a.kind==="line"){M(u,"Color",a.layer._lineColor,l=>t.setLayerPaint(b,"line-color",l)),M(u,"Border",a.layer._borderColor,l=>t.setLayerPaint(b,"line-border-color",l)),P(u,"Width",a.layer._lineWidth,1,12,.5,l=>t.setLayerPaint(b,"line-width",l)),P(u,"Border width",a.layer._borderWidth,0,6,.5,l=>t.setLayerPaint(b,"line-border-width",l));const o=s`<button class="layer-download-btn">Download GeoJSON</button>`;o.addEventListener("click",()=>{const l=t.getLayerGeoJSON(b);if(!l)return;const R=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),L=URL.createObjectURL(R),B=document.createElement("a");B.href=L,B.download=`${b}.geojson`,B.click(),URL.revokeObjectURL(L)}),u.appendChild(o);const k=s`<button class="layer-download-btn">Elevation profile</button>`;k.addEventListener("click",()=>{const l=t.getLayerElevationProfile(b);l&&X.show(b,a.id,l,a.layer._lineColor)}),u.appendChild(k)}else a.kind==="circle"?(M(u,"Fill",a.layer._fillColor,o=>t.setLayerPaint(b,"circle-color",o)),M(u,"Stroke",a.layer._strokeColor,o=>t.setLayerPaint(b,"circle-stroke-color",o)),P(u,"Radius",a.layer._radius,1,12,.5,o=>t.setLayerPaint(b,"circle-radius",o)),P(u,"Stroke width",a.layer._strokeWidth,0,6,.5,o=>t.setLayerPaint(b,"circle-stroke-width",o))):a.kind==="text"&&(M(u,"Color",a.layer._color,o=>t.setLayerPaint(b,"text-color",o)),M(u,"Halo",a.layer._strokeColor,o=>t.setLayerPaint(b,"text-halo-color",o)),P(u,"Halo width",a.layer._strokeWidth,0,4,.25,o=>t.setLayerPaint(b,"text-halo-width",o)));d.appendChild(u),x.addEventListener("click",()=>{const o=d.classList.toggle("open");u.style.display=o?"":"none"}),y.querySelector(".layer-name").addEventListener("click",()=>{const o=d.classList.toggle("open");u.style.display=o?"":"none"}),y.querySelector(".layer-name").style.cursor="pointer",E.appendChild(d)}}i(),F.addEventListener("click",()=>T());const n={active:!1,points:[],previewEntry:null,nextLayerId:1,drawItem:null,pointCount:null},m=s`<div class="draw-overlay" style="display:none">Click to add points. Double-click or Enter to finish. Esc to cancel. ⌘Z to undo.</div>`;t.canvas.parentElement.appendChild(m);function T(){const e=`drawn-path-${n.nextLayerId}`;n.active=!0,n.points=[],n.previewEntry=null,t.canvas.classList.add("drawing"),m.style.display="";const r=s`<div class="layer-item draw-active"></div>`,p=s`<div class="layer-row"></div>`;p.appendChild(s`<span class="layer-name" style="flex:1">${e}</span>`),n.pointCount=s`<span class="draw-point-count">0 pts</span>`,p.appendChild(n.pointCount);const a=s`<button class="draw-action-btn" title="Undo last point"></button>`;a.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 7h7a3 3 0 0 1 0 6H8"/><path d="M6 10L3 7l3-3"/></svg>',a.addEventListener("click",async()=>{n.points.length>0&&(n.points.pop(),U(),await A())}),p.appendChild(a);const d=s`<button class="draw-action-btn draw-done-btn" title="Finish path"></button>`;d.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 8.5l3.5 3.5 6.5-8"/></svg>',d.addEventListener("click",()=>j()),p.appendChild(d);const y=s`<button class="draw-action-btn" title="Cancel"></button>`;y.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4l8 8M12 4l-8 8"/></svg>',y.addEventListener("click",()=>J()),p.appendChild(y),r.appendChild(p),n.drawItem=r,E.appendChild(r)}function U(){n.pointCount&&(n.pointCount.textContent=`${n.points.length} pts`)}function W(){n.active=!1,n.points=[],t.canvas.classList.remove("drawing"),m.style.display="none",n.drawItem&&(n.drawItem.remove(),n.drawItem=null,n.pointCount=null)}async function A(){if(n.previewEntry&&(t.removeLineLayer(n.previewEntry.id),n.previewEntry=null),n.points.length>=2){const e={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:n.points.map(r=>[r.lon,r.lat,r.elev])},properties:{}}]};n.previewEntry=await t.addLineLayer("__draw_preview",e,{"line-color":"#2196F3","line-width":4,"line-border-color":"#0D47A1","line-border-width":1.5,"atmosphere-opacity":.5})}}async function j(){if(n.previewEntry&&(t.removeLineLayer("__draw_preview"),n.previewEntry=null),n.points.length>=2){const e=`drawn-path-${n.nextLayerId++}`,r={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:n.points.map(p=>[p.lon,p.lat,p.elev])},properties:{}}]};await t.addLineLayer(e,r,{"line-color":"#2196F3","line-width":4,"line-border-color":"#0D47A1","line-border-width":1.5,"atmosphere-opacity":.5}),i()}W()}function J(){n.previewEntry&&(t.removeLineLayer("__draw_preview"),n.previewEntry=null),W()}let q=null;t.canvas.addEventListener("pointerdown",e=>{n.active&&(q={x:e.clientX,y:e.clientY})}),t.canvas.addEventListener("pointerup",async e=>{if(!n.active||!q)return;const r=e.clientX-q.x,p=e.clientY-q.y;if(q=null,Math.sqrt(r*r+p*p)>5)return;const a=t.raycast(e.clientX,e.clientY);if(!a)return;const d=a.worldPos[0],y=a.worldPos[2],x=(d-.5)*360,v=(2*Math.atan(Math.exp(Math.PI*(1-2*y)))-Math.PI/2)*180/Math.PI,g=t.queryElevationMercator(d,y)||0;n.points.push({lon:x,lat:v,elev:g,mx:d,mz:y}),U(),await A()}),t.canvas.addEventListener("dblclick",async e=>{n.active&&(e.preventDefault(),n.points.length>1&&n.points.pop(),await j())}),document.addEventListener("keydown",async e=>{n.active&&(e.key==="Escape"?J():e.key==="Enter"?await j():e.key==="z"&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),n.points.length>0&&(n.points.pop(),await A())))});const{section:ae,body:I}=h("Analysis",{open:!0});S.appendChild(ae),c(I,f.range([0,2],{value:t.settings.verticalExaggeration,step:.01,label:"Vertical exaggeration"}),e=>{t.settings.verticalExaggeration=e}),c(I,f.range([0,1],{value:t.settings.hillshadeOpacity,step:.01,label:"Hillshade opacity"}),e=>{t.settings.hillshadeOpacity=e}),c(I,f.range([0,1],{value:t.settings.contourOpacity,step:.01,label:"Contour opacity"}),e=>{t.settings.contourOpacity=e}),c(I,f.range([0,1],{value:t.settings.slopeAngleOpacity,step:.01,label:"Slope angle opacity"}),e=>{t.settings.slopeAngleOpacity=e,t._slopeLegend.style.display=e>0?"":"none"}),c(I,f.range([0,1],{value:t.settings.slopeAspectOpacity,step:.01,label:"Slope aspect opacity"}),e=>{t.settings.slopeAspectOpacity=e});{const e="http://www.w3.org/2000/svg",d=["N","NE","E","SE","S","SW","W","NW"],y=[{key:"slopeAspectMaskAbove",rInner:0,rOuter:18},{key:"slopeAspectMaskNear",rInner:18,rOuter:36},{key:"slopeAspectMaskBelow",rInner:36,rOuter:54}],x=68,v={slopeAspectMaskAbove:0,slopeAspectMaskNear:0,slopeAspectMaskBelow:0},g=document.createElementNS(e,"svg");g.setAttribute("viewBox","0 0 160 160"),g.setAttribute("width",160),g.setAttribute("height",160),g.style.display="block",g.style.margin="4px auto 0";for(const o of y)for(let k=0;k<8;k++){const l=(k*45-22.5-90)*Math.PI/180,R=(k*45+22.5-90)*Math.PI/180,L=document.createElementNS(e,"path");let B;if(o.rInner===0){const Q=80+o.rOuter*Math.cos(l),ee=80+o.rOuter*Math.sin(l),te=80+o.rOuter*Math.cos(R),ne=80+o.rOuter*Math.sin(R);B=`M80,80L${Q.toFixed(1)},${ee.toFixed(1)}L${te.toFixed(1)},${ne.toFixed(1)}Z`}else{const Q=80+o.rInner*Math.cos(l),ee=80+o.rInner*Math.sin(l),te=80+o.rOuter*Math.cos(l),ne=80+o.rOuter*Math.sin(l),re=80+o.rInner*Math.cos(R),le=80+o.rInner*Math.sin(R),de=80+o.rOuter*Math.cos(R),ce=80+o.rOuter*Math.sin(R);B=`M${Q.toFixed(1)},${ee.toFixed(1)}L${te.toFixed(1)},${ne.toFixed(1)}L${de.toFixed(1)},${ce.toFixed(1)}L${re.toFixed(1)},${le.toFixed(1)}Z`}L.setAttribute("d",B),L.setAttribute("fill","#fff"),L.setAttribute("stroke","#333"),L.setAttribute("stroke-width","0.5"),L.style.cursor="pointer",L.style.transition="fill 0.1s";const H=o.key,K=k;L.addEventListener("click",()=>{v[H]^=1<<K,L.setAttribute("fill",v[H]&1<<K?"#59D91A":"#fff"),t.settings[H]=v[H]}),L.addEventListener("mouseenter",()=>{v[H]&1<<K||L.setAttribute("fill","#eee")}),L.addEventListener("mouseleave",()=>{v[H]&1<<K||L.setAttribute("fill","#fff")}),g.appendChild(L)}for(let o=0;o<8;o++){const k=(o*45-90)*Math.PI/180,l=document.createElementNS(e,"text");l.setAttribute("x",(80+x*Math.cos(k)).toFixed(1)),l.setAttribute("y",(80+x*Math.sin(k)).toFixed(1)),l.setAttribute("text-anchor","middle"),l.setAttribute("dominant-baseline","central"),l.setAttribute("font-size","10"),l.setAttribute("font-family","system-ui, sans-serif"),l.setAttribute("fill","#333"),l.setAttribute("pointer-events","none"),l.textContent=d[o],g.appendChild(l)}const u=s`<div class="aspect-rose" style="max-width: 240px;">
    <label style="font-size: 12px; font-weight: 500; font-family: system-ui, sans-serif; color: #333;">Slope aspect</label>
  </div>`;u.appendChild(g);const b=s`<div style="display: flex; justify-content: center; gap: 12px; font-size: 10px; font-family: system-ui, sans-serif; color: #333; margin-top: 2px;">
    <span>Inner: Above</span>
    <span>Middle: Near</span>
    <span>Outer: Below treeline</span>
  </div>`;u.appendChild(b),I.appendChild(u)}c(I,f.range([0,1e4],{value:t.settings.treelineLower,step:50,label:"Lower treeline (ft)"}),e=>{t.settings.treelineLower=e}),c(I,f.range([0,1e4],{value:t.settings.treelineUpper,step:50,label:"Upper treeline (ft)"}),e=>{t.settings.treelineUpper=e});const{section:oe,body:Y}=h("Environment");S.appendChild(oe),c(Y,f.range([10,90],{value:Math.round(t.camera.state.fov*180/Math.PI),step:1,label:"FOV (degrees)"}),e=>{t.camera.state.fov=e*Math.PI/180,t.camera.taint()}),c(Y,f.date({value:C.date,label:"Date"}),e=>{e&&(C.date=e,$())}),c(Y,f.range([0,24],{value:C.timeOfDay,step:.01,label:"Time of day (AKDT)"}),e=>{C.timeOfDay=e,$()}),c(Y,f.range([.05,1],{value:t.settings.atmosphereDensity,step:.01,label:"Atmosphere density"}),e=>{t.settings.atmosphereDensity=e});const{section:ie,body:V}=h("Debug");return S.appendChild(ie),c(V,f.range([1,5],{value:t.settings.densityThreshold,step:.1,label:"Tile scale",transform:Math.log}),e=>{t.settings.densityThreshold=e}),c(V,f.toggle({label:"Show tile borders"}),e=>{t.settings.showTileBorders=e}),c(V,f.toggle({label:"Show wireframe"}),e=>{t.settings.showWireframe=e}),c(V,f.toggle({label:"Freeze coverage"}),e=>{t.settings.freezeCoverage=e}),c(V,f.toggle({label:"Show collision boxes"}),e=>{t.settings.showCollisionBoxes=e}),Z(S),{SunCalc:G,controlsContainer:S,sunState:C,location:z,updateSunDirection:$,addControl:c,createSection:h,drawBtn:F,layerPanel:_,layerList:E,eyeOpenSVG:D,eyeClosedSVG:w,hexFromColor:O,addColorProp:M,addRangeProp:P,rebuildLayerPanel:i,drawState:n,drawOverlay:m,enterDrawMode:T,updateDrawItemCount:U,exitDrawMode:W,updatePreview:A,finishDrawing:j,cancelDrawing:J,pointerDownPos:q,analysis:ae,analysisContent:I,environment:oe,envContent:Y,debug:ie,debugContent:V}},inputs:["html","viewer","elevationProfile","Inputs","display"],outputs:["SunCalc","controlsContainer","sunState","location","updateSunDirection","addControl","createSection","drawBtn","layerPanel","layerList","eyeOpenSVG","eyeClosedSVG","hexFromColor","addColorProp","addRangeProp","rebuildLayerPanel","drawState","drawOverlay","enterDrawMode","updateDrawItemCount","exitDrawMode","updatePreview","finishDrawing","cancelDrawing","pointerDownPos","analysis","analysisContent","environment","envContent","debug","debugContent"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});
