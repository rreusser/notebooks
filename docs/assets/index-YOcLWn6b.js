import{I as E,m as a,i as b,M as C}from"./index-DLwE0_Ng.js";function T(e,t){const n=document.createElement("div");if(new E(n).fulfilled(e),t)for(const o of t){let i=n;for(const s of o)i=i?.childNodes[s];i?.dispatchEvent(new Event("mouseup"))}return n}function R(e){const t=document.createElement("div");return new E(t).rejected(e),t}function N(e){if(!j(e))return;const t=e.querySelectorAll(".observablehq--expanded");if(t.length)return Array.from(t,n=>O(e,n))}function $(e){return e.nodeType===1}function j(e){return $(e)&&e.classList.contains("observablehq")}function O(e,t){const n=[];for(;t!==e;)n.push(q(t)),t=t.parentNode;return n.reverse()}function q(e){return Array.prototype.indexOf.call(e.parentNode.childNodes,e)}const B=["audio source[src]","audio[src]","img[src]","picture source[src]","video source[src]","video[src]"].join(),L=["img[srcset]","picture source[srcset]"].join(),P=["a[href][download]","link[href]"].join(),M=[[B,"src"],[L,"srcset"],[P,"href"]];function U(e,t){const n=o=>t.get(W(o))??o;for(const[o,i]of M)for(const s of e.querySelectorAll(o)){if(k(s))continue;const f=decodeURI(s.getAttribute(i));i==="srcset"?s.setAttribute(i,F(f,n)):s.setAttribute(i,n(f))}}function k(e){return/(?:^|\s)external(?:\s|$)/i.test(e.getAttribute("rel")??"")}function z(e){const t=e.indexOf("?"),n=e.indexOf("#"),o=t>=0&&n>=0?Math.min(t,n):t>=0?t:n;return o>=0?e.slice(0,o):e}function W(e){const t=z(e);return D(t)?t:`./${t}`}function D(e){return["./","../","/"].some(t=>e.startsWith(t))}function F(e,t){return e.trim().split(/\s*,\s*/).filter(n=>n).map(n=>{const o=n.split(/\s+/),i=t(o[0]);return i&&(o[0]=encodeURI(i)),o.join(" ")}).join(", ")}function x(e,t){const{root:n,expanded:o}=e,i=V(t,n)?t:T(t,o[n.childNodes.length]);g(e,i)}function g(e,t){if(t.nodeType===11){let n;for(;n=t.firstChild;)e.root.appendChild(n)}else e.root.appendChild(t)}function H(e,t){g(e,R(t))}function V(e,t){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor&&(!e.parentNode||t.contains(e))}function p(e){for(e.expanded=Array.from(e.root.childNodes,N);e.root.lastChild;)e.root.lastChild.remove()}function G(e,{autodisplay:t,assets:n}){return{_error:!1,_node:e.root,pending(){this._error&&(this._error=!1,p(e))},fulfilled(o){t&&(p(e),n&&o instanceof Element&&U(o,n),x(e,o))},rejected(o){console.error(o),this._error=!0,p(e),H(e,o)}}}function y(e,t,n=G){const{id:o,body:i,inputs:s=[],outputs:f=[],output:c,autodisplay:_,autoview:A,automutable:I}=t,h=e.variables,l=a.variable(n(e,t),{shadow:{}}),w=c??(f.length?`cell ${o}`:null);if(s.includes("display")||s.includes("view")){let d=-1;const u=new l.constructor(2,l._module);if(u.define(s.filter(r=>r!=="display"&&r!=="view"),()=>{const r=l._version;return m=>{if(r<d)throw new Error("stale display");if(e.variables[0]!==l)throw new Error("stale display");return r>d&&p(e),d=r,x(e,m),m}}),l._shadow.set("display",u),s.includes("view")){const r=new l.constructor(2,l._module,null,{shadow:{}});r._shadow.set("display",u),r.define(["display"],m=>S=>b(m(S))),l._shadow.set("view",r)}}else _||p(e);if(h.push(l.define(w,s,i)),c!=null){if(A){const d=v(c,"viewof$");h.push(a.define(d,[c],b))}else if(I){const d=v(c,"mutable "),u=`cell ${o}`;l.define(d,[u],([r])=>r),h.push(a.define(c,s,i),a.define(u,[c],C),a.define(`mutable$${d}`,[u],([,r])=>r))}}else for(const d of f)h.push(a.variable(!0).define(d,[w],u=>u[d]))}function v(e,t){if(!e.startsWith(t))throw new Error(`expected ${t}: ${e}`);return e.slice(t.length)}y({root:document.getElementById("cell-9"),expanded:[],variables:[]},{id:9,body:(e,t)=>{const n=e+5;return t(n),{z:n}},inputs:["y","display"],outputs:["z"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});y({root:document.getElementById("cell-6"),expanded:[],variables:[]},{id:6,body:function(t){return t+2},inputs:["x"],outputs:void 0,output:"y",assets:void 0,autodisplay:!0,autoview:!1,automutable:!1});y({root:document.getElementById("cell-10"),expanded:[],variables:[]},{id:10,body:e=>(e(1),{x:1}),inputs:["display"],outputs:["x"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});
