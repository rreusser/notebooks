async function n(){if(!navigator.gpu)throw new Error("WebGPU is not supported in this browser");const e=await navigator.gpu.requestAdapter();if(!e)throw new Error("Failed to get WebGPU adapter");const t=await e.requestAdapterInfo?.();t&&console.log("WebGPU Adapter:",t.vendor,t.architecture);const o=[];e.features.has("timestamp-query")&&o.push("timestamp-query");const a=e.features.has("shader-f16");a?o.push("shader-f16"):console.warn("shader-f16 not supported, using f32 buffers (higher memory usage)");const s=await e.requestDevice({requiredFeatures:o,requiredLimits:{maxStorageBufferBindingSize:e.limits.maxStorageBufferBindingSize,maxBufferSize:e.limits.maxBufferSize}});s.lost.then(r=>{console.error("WebGPU device lost:",r.message,r.reason)}),s.addEventListener?.("uncapturederror",r=>{console.error("WebGPU uncaptured error:",r.error.message)});const i=a?"f16":"f32";return console.log(`WebGPU using ${i} precision for storage buffers`),{adapter:e,device:s,precision:i}}function u(){return typeof navigator<"u"&&navigator.gpu!==void 0}export{n as createWebGPUContext,u as isWebGPUAvailable};
